Introduction
===
ğŸ”™ [MENU README](./README.md)


# Fuzzing
1. Fuzzing vs. Unit
   - Unit Testæ˜¯åœ¨æ¸¬è©¦åŠŸèƒ½æ˜¯å¦æ­£å¸¸é‹ä½œ
   - æ¨¡ç³Šæ¸¬è©¦é‡é»åœ¨æ–¼**æ¸¬è©¦æœ‰æ²’æœ‰æ„æ–™å¤–çš„æƒ…æ³**
2. ä¸‰å¤§è¦ç´ 
   - Sanitizer : åªæœ‰åœ¨ç¨‹å¼å£æ‰çš„æ™‚å€™æ‰çŸ¥é“è¼¸å…¥æœ‰å•é¡Œ
   - Coverage  : ç„¡æ³•çŸ¥é“ä½¿æœ‰æ¢ç´¢äº†å…¨éƒ¨çš„å¯èƒ½æ€§
   - Mutation  : è¼¸å…¥éƒ½æ˜¯é è¨­çš„ï¼Œå¦‚ä½•ç”¢ç”Ÿéš¨æ©Ÿè¼¸å…¥

---

# Basic Block
```
åœ¨åŒä¸€å€‹Basic Blockä¸­ï¼Œåªè¦åŸ·è¡Œå…¶ä¸­ä¸€å€‹æŒ‡ä»¤
å…¶ä»–çš„å°±ä¸€å®šæœƒè¢«åŸ·è¡Œï¼Œä¸æœƒä¸­é€”è·³åˆ°å…¶ä»–åœ°æ–¹
è¢«åŠƒåˆ†æˆåŒå¡Šbasic blockçš„ç¨‹å¼ç¢¼ä¸€å®šæœƒå¾ç¬¬ä¸€æ¢instructioné–‹å§‹åŸ·è¡Œ
å¦‚æœæœ‰é€™ç¨®ç‹€æ³ï¼Œå°±è©²åˆ‡æˆå…©å€‹Basic Block
```
```C
if(a == 1 && b == 2)
    printf("condition 1");
else
    printf("condition 2");
```
> control flow graph (CFG)

![](./_src/BasicBlock.png){:height="100px" width="250px"}

---

# Coverage
## Code Coverage
åœ¨ç¨‹å¼ä¸­è¢«æ¸¬è©¦åˆ°çš„æ¯”ä¾‹ç‚ºå¤šå°‘
åœ¨å¤§å¤šæƒ…æ³ä¸‹ï¼ŒåŸ·è¡Œè¶Šå¤šç¨‹å¼ç¢¼ä»£è¡¨è¶Šæœ‰å¯èƒ½åŸ·è¡Œåˆ°æ¼æ´
```
1. Coverage       : ç”¨ä¾†è©•é‡é€™æ¬¡è¼¸å…¥æ¢ç´¢å¤šå°‘ç¨‹å¼ç¢¼çš„ä¾æ“šï¼Œåˆ†ç‚ºä»¥ä¸‹å…©ç¨®
2. Block Coverage : ç”¨æ¢ç´¢å¤šå°‘å€‹Basic Blockåšç‚ºè©•é‡æ¨™æº–
3. Edge Coverage  : ç”¨æ¢ç´¢å¤šå°‘å€‹Edgeåšç‚ºè©•é‡æ¨™æº–
```
![](./_src/Coverage.png){:height="100px" width="250px"}
```
1. ä»¥Block Coverageä¾†èªªæœƒèªç‚ºå·²ç¶“æ¢ç´¢å®Œå…¨éƒ¨çš„å¯èƒ½æ€§
2. Edge Coverageå‰‡èªç‚ºé‚„æœ‰ä¸€æ¢falseæ²’æœ‰æ¢ç´¢é

ä½†ä¸ä¸€å®šå“ªå€‹æ–¹æ³•æ¯”è¼ƒå¥½
```

## Instrumentation æ’æ¨
```
å¦‚ä½•è¨˜éŒ„èµ°éå¤šå°‘block/edge ä¾†è¨ˆç®—CodeCoverage
æˆ‘å€‘éœ€è¦åœ¨è¨ˆç®—çš„å€å¡ŠåŸ·è¡Œä¹‹å‰ï¼Œå…ˆåŸ·è¡Œä¸€æ®µç”¨ä¾†è¨˜éŒ„çš„ç¨‹å¼ç¢¼
ä½†å…¶å¯¦ä¹Ÿå¯ä»¥æ’åœ¨ç¨‹å¼ç¢¼å€å¡Šçš„ä¸­é–“ã€å¾Œé¢
ç”¨ä¾†è¨˜éŒ„åƒæ•¸ã€åŸ·è¡Œçµæœç­‰
```
![](./_src/Instrumentation.png)

![](./_src/InstrumentationBefore.png)

![](./_src/InstrumentationAfter.png)

---

# Fuzzing Process
![](./_src/FuzzingProcess.png)

![](./_src/FuzzingProcess2.png)

---

# Fuzzingçš„å¥½å£åˆ¤æ–·
```
ä¸€å€‹ fuzzer çš„å¥½å£ï¼Œé€šå¸¸æ˜¯ä»¥ï¼š 
1. seed selection æ˜¯å¦èƒ½æŒ‘å‡ºçœŸæ­£æœ‰æ„ç¾©çš„ seed
2. mutate   çš„éš¨æ©Ÿæ˜¯å¦æœ‰æ•ˆç‡
3. coverage å–å¾—çš„æ–¹å¼æ˜¯å¦æœƒé€ æˆå¤§é‡çš„ overhead
```